
<!DOCTYPE html>
<html>
  <head>

    <meta charset='utf-8'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-dateFormat/1.0/jquery.dateFormat.js"></script>
    <title>jinnu Feed</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="navbar">
      <a href="feed.html">see your idols</a>
      <a href="post.html">express</a>
      <a href="index.html">kpop home</a>
    </div>
    <h1 class="title">Kpopers feed</h1>
    <input type="text" name="message" placeholder="search for idols"  class= "filter">
    <div class="message-list">
    </div>

    <script>
//Hello! This is the start of the JavaScript.
var filterfunction = function() {
var searchtext = $(".filter").val();
$(".message-list").children().each(function(number, postNode) {
//code in here will be run once for each post in the list
});
}
var displayMessage = function(post) {
  ///hack: fix invalid dates
if (post.time === undefined) {
   post.time = new Date("2016-01-01");
}
  var postElement = $('<div class="message">' + post.message + '</div>');
  var timeElement = $('<div class="time">' + $.format.prettyDate(post.time) + '</div>');
  postElement.append(timeElement);
  var imageElement = $('<img src="'+post.photo+'">');
      postElement.append(imageElement);
      $(".message-list").append(postElement);
}

var createFeed = function(data) {
  data.forEach(displayMessage);
}

$.get("/posts", createFeed);
//This is the end of the JavaScript.
    </script>
  </body>
</html>
